/*! For license information please see transform.js.LICENSE.txt */
(()=>{var t={55299:(t,e,r)=>{"use strict";var n=r(47798);function s(t){return!0===n(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,r;return!1!==s(t)&&"function"==typeof(e=t.constructor)&&!1!==s(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},47798:t=>{"use strict";t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},36998:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(20110),s=r(87830),i=["em","ex","ch","rem","vw","vh","vmin","vmax","px","mm","cm","in","pt","pc","Q","vm"],o=["deg","grad","turn","rad"],a=["s","ms"],u=["Hz","kHz"],p=["dpi","dpcm","dppm"],h=["fr"],c=i.map((t=>t.toLowerCase())),l=o.map((t=>t.toLowerCase())),f=a.map((t=>t.toLowerCase())),d=u.map((t=>t.toLowerCase())),v=p.map((t=>t.toLowerCase())),y=h.map((t=>t.toLowerCase()));function g(t,e,r,n){const{source:s}=e;return new t(r,n,s)}e.newPunctuator=function(t,e){if(","===t.value||")"===t.value)return g(s.Punctuator,t,t.value,e);throw new Error(`illegal argument error "${t.value}"`)},e.newOperator=function(t,e){return g(s.Operator,t,t.value,e)},e.newString=function(t,e){return g(s.StringNode,t,t.value,e)},e.newWordNode=function(t,e){return function(t,e){if("word"===t.type){const r=n(t.value);if(r){const n=function(t,e,r){const{source:n}=e;if(!t.unit)return new s.NumberValue(t.number,r,n);const g=t.unit.toLowerCase();function x(e,s){const i=new e(t.number,s,r,n);return s!==t.unit&&(i.raws.unit={raw:t.unit,value:s}),i}let m;return(m=c.indexOf(g))>=0?x(s.LengthValue,i[m]):(m=l.indexOf(g))>=0?x(s.AngleValue,o[m]):(m=f.indexOf(g))>=0?x(s.TimeValue,a[m]):(m=d.indexOf(g))>=0?x(s.FrequencyValue,u[m]):(m=v.indexOf(g))>=0?x(s.ResolutionValue,p[m]):(m=y.indexOf(g))>=0?x(s.FlexValue,h[m]):"%"===g?x(s.PercentageValue,"%"):null}(r,t,e);if(n)return n}}return g(s.Word,t,t.value,e)}(t,e)},e.newFunction=function(t,e,r){return new s.FunctionNode(t.value,e,{start:t.source.start,end:r.source.end})},e.newParentheses=function(t,e){return new s.Parentheses(e,{start:t.source.start,end:t.source.end})},e.newMathExpression=function(t,e,r){const n="string"==typeof e?g(s.Operator,{source:{start:{index:0},end:{index:0}}},e," "):e,{before:i}=t.raws;return t.raws.before="",new s.MathExpression(t,n,r,i,{start:t.source.start,operator:n.source,end:r.source.end})}},7054:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(23988);e.Parser=n.Parser;var s=r(32966);e.Tokenizer=s.Tokenizer;var i=r(3109);e.Stringifier=i.Stringifier;var o=r(39876);e.getResolvedType=o.getResolvedType;var a=r(56780);e.reduceExpression=a.reduce;var u=r(36998);e.newMathExpression=u.newMathExpression},23988:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(91404),s=r(87830),i=r(36998),o=r(97922),a=r(45612),u=/^([^-+0-9.]|-[^+0-9.])/u,p={"*":3,"/":3,"+":2,"-":2};function h(t){return t.source||{start:{index:0},end:{index:0}}}function c(t){return t&&"Punctuator"!==t.type&&"Operator"!==t.type?t:null}e.Parser=class{constructor(t,e){this.tokenizer=t,this.root=new s.Root({start:{index:0},end:{index:0}}),this.rescans=[],this.tokens=this.root.tokens,this.errors=this.root.errors}parse(){let t={container:this.root,fnName:"",post(){},eof(){}};for(;t;)t=this.processExpressions(t);const{tokens:e}=this;return e.length>0&&(h(this.root).end.index=e[e.length-1].source.end.index),this.errors.unshift(...this.tokenizer.errors),this.errors.sort(((t,e)=>t.index-e.index)),this.root}reportParseError(t,e=0){if(this.errors.find((r=>r.code===t&&r.index===e)))return;const r=n.ParseError.fromCode(t,e);this.errors.push(r)}processExpressions(t){let e;for(;e=this.scan();){const{token:r}=e;switch(r.type){case"word":if(u.test(r.value)){const n=this.scan();if(n){if(!n.raws&&"punctuator"===n.token.type&&"("===n.token.value)return this.processFunction(r,e.raws,n.token,t);this.back(n)}}t.container.push(i.newWordNode(r,e.raws));break;case"string":t.container.push(i.newString(r,e.raws));break;case"operator":this.checkAndMergeMathExpr(t,p[r.value]),t.container.push(i.newOperator(r,e.raws));break;case"punctuator":return this.checkAndMergeMathExpr(t),this.processPunctuator(r,e.raws,t)}}return this.postStack(t),t.eof(),null}checkAndMergeMathExpr(t,e){const{container:r}=t,{nodes:n}=r;if(n.length>=3){const s=n[n.length-2];if("Operator"===s.type&&p[s.value]&&(null==e||e<=p[s.value])){const e=this.mergeMathExpr(t);e&&r.push(e)}}}processPunctuator(t,e,r){const{container:n,parent:s}=r;if("("===t.value){const s=i.newParentheses(t,e);return n.push(s),this.createNestedStateContainer(s,r.fnName,r)}if(this.postStack(r),")"===t.value){if(s)return r.post(t,e),s;this.reportParseError("unexpected-parenthesis",t.source.start.index)}return n.push(i.newPunctuator(t,e)),r}processFunction(t,e,r,n){const s=i.newFunction(t,e,r);return n.container.push(s),this.createNestedStateContainer(s,s.name,n)}createNestedStateContainer(t,e,r){return{container:t,parent:r,fnName:e,post(e,r){r&&(t.raws.beforeClose=r),h(t).end=e.source.end},eof:()=>{t.unclosed=!0;const e=this.tokens[this.tokens.length-1],n=t.last;n&&(h(t).end=h(n).end),this.reportParseError("eof-in-bracket",e.source.end.index),r.eof()}}}mergeMathExpr(t){const{container:{nodes:e}}=t,r=e.pop(),n=e.pop(),s=e.pop()||null,u=()=>{s&&e.push(s),e.push(n,r)},p=e=>{o.isMathFunction(t.fnName)&&this.reportParseError("unexpected-calc-token",h(e).start.index)},l=c(r);if(a.isComma(n))return l||p(r),u(),null;if(!s)return p(c(n)?r:n),u(),null;const f=c(s);return f?"Operator"!==n.type?(p(n),u(),null):l?i.newMathExpression(f,n,l):(p(r),u(),null):(p(c(e[e.length-1])?n:s),u(),null)}postStack(t){const{container:e}=t,{nodes:r}=e;for(;r.length>1;){const r=this.mergeMathExpr(t);if(!r)return;e.push(r)}}scan(){const t=this.rescans.shift();if(t)return t;let e="",r=this.tokenizer.nextToken();for(;r;){if(this.tokens.push(r),"whitespace"!==r.type&&"comment"!==r.type&&"inline-comment"!==r.type)return{token:r,raws:e};e+=r.value,r=this.tokenizer.nextToken()}return e&&(this.root.raws.after=e),null}back(t){this.rescans.unshift(t)}}},56780:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(97922),s=r(45612);function i(t){if("Number"===t.type||"Length"===t.type||"Angle"===t.type||"Time"===t.type||"Frequency"===t.type||"Resolution"===t.type||"Percentage"===t.type||"Flex"===t.type)return t;if("MathExpression"===t.type)return function(t){const e=i(t.left),r=i(t.right);if(!e||!r)return null;switch(t.operator){case"+":case"-":return function(t,e,r){if(t.type!==r.type)return null;const n="-"===e?(t,e)=>t-e:(t,e)=>t+e;return"Number"===t.type?{type:"Number",value:n(t.value,r.value)}:t.unit===r.unit?{type:t.type,value:n(t.value,r.value),unit:t.unit}:null}(e,t.operator,r);case"/":return function(t,e){return"Number"!==e.type?null:"Number"===t.type?{type:"Number",value:t.value/e.value}:{type:t.type,value:t.value/e.value,unit:t.unit}}(e,r);case"*":return function(t,e){return"Number"===t.type?"Number"===e.type?{type:"Number",value:t.value*e.value}:{type:e.type,value:t.value*e.value,unit:e.unit}:"Number"===e.type?{type:t.type,value:t.value*e.value,unit:t.unit}:null}(e,r)}return null}(t);if("Parentheses"===t.type||"Root"===t.type){if(1===t.nodes.length)return i(t.nodes[0])}else if("Function"===t.type&&"Function"===t.type&&n.isCalc(t.name))return function(t){const e=s.getFunctionArguments(t);return e&&1===e.length?i(e[0]):null}(t);return null}e.reduce=function(t){return i(t)}},39876:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(97922),s=r(45612);function i(t){const e=o(t.left),r=o(t.right),{operator:n}=t;switch(n){case"+":case"-":return"Unknown"===e||"Unknown"===r?"Unknown":e===r?e:"Number"===e||"Number"===r?"invalid":"Percentage"===e?r:"Percentage"===r?e:"invalid";case"*":return"Unknown"===e||"Unknown"===r?"Unknown":"Number"===e?r:"Number"===r?e:"invalid";case"/":return"Unknown"===r?"Unknown":"Number"===r?e:"invalid"}return"Unknown"}function o(t){if("MathExpression"===t.type){const e=i(t);return"invalid"===e?"Unknown":e}return"Parentheses"===t.type?1===t.nodes.length?o(t.nodes[0]):"Unknown":"Function"===t.type?n.isCalc(t.name)?1===(e=t).nodes.length?a(e):"Unknown":n.isMin(t.name)||n.isMax(t.name)?a(t):n.isClamp(t.name)?function(t){return 5===t.nodes.length?a(t):"Unknown"}(t):"Unknown":function(t){const{type:e}=t;return"Number"===e||"Length"===e||"Angle"===e||"Time"===e||"Frequency"===e||"Resolution"===e||"Percentage"===e||"Flex"===e?e:"Unknown"}(t);var e}function a(t){const e=s.getFunctionArguments(t);if(!e)return"Unknown";const r=e.map(o);let n=null;for(const t of r)if(n&&"Percentage"!==n){if("Percentage"===t);else if(n!==t)return"Unknown"}else n=t;return n||"Unknown"}e.getResolvedType=i},3109:(t,e)=>{"use strict";function r(t,e){const r=t.raws[e];return r?r.raw:`${t[e]}`}function n(t,e){return t.raws[e]||""}function s(t,e){return`${n(t,"before")}${e}`}function i(t){return s(t,`${r(t,"value")}${r(t,"unit")}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.Stringifier=class{constructor(t){this.options=Object.assign({autofix:!1},t||{})}stringify(t){return this[t.type](t)}Root(t){let e="";for(const r of t.nodes)e+=this.stringify(r);return e+=n(t,"after"),e}Function(t){let e=`${t.name}(`;for(const r of t.nodes)e+=this.stringify(r);return e+=n(t,"beforeClose"),!this.options.autofix&&t.unclosed||(e+=")"),s(t,e)}Parentheses(t){let e="(";for(const r of t.nodes)e+=this.stringify(r);return e+=n(t,"beforeClose"),!this.options.autofix&&t.unclosed||(e+=")"),s(t,e)}MathExpression(t){let e="",r=n(t,"between"),i="",o="";return this.options.autofix&&(r||(r=" "),t.right.raws.before||(i=" "),"MathExpression"===t.left.type&&("+"!==t.left.operator&&"-"!==t.left.operator||"*"!==t.operator&&"/"!==t.operator||(e+="(",r=`)${r}`)),"MathExpression"===t.right.type&&(("+"!==t.operator||"-"!==t.right.operator)&&("-"!==t.operator&&"*"!==t.operator||"+"!==t.right.operator&&"-"!==t.right.operator)&&"/"!==t.operator||(i+="(",o=`)${o}`))),s(t,`${e}${this.stringify(t.left)}${r}${t.operator}${i}${this.stringify(t.right)}${o}`)}Number(t){return s(t,r(t,"value"))}Punctuator(t){return s(t,t.value)}Word(t){return s(t,t.value)}String(t){return s(t,t.value)}Operator(t){return s(t,t.value)}Length(t){return i(t)}Angle(t){return i(t)}Time(t){return i(t)}Frequency(t){return i(t)}Resolution(t){return i(t)}Percentage(t){return i(t)}Flex(t){return i(t)}word(t){return t.value}punctuator(t){return t.value}operator(t){return t.value}whitespace(t){return t.value}comment(t){return t.value}string(t){return t.value}"inline-comment"(t){return t.value}}},32966:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(91404),s=r(63293);function i(t){return t===s.LPAREN||t===s.RPAREN||t===s.COMMA}function o(t){return s.isDigit(t)||t===s.DOT}function a(t){return t===s.DQUOTE||t===s.SQUOTE}function u(t){return t===s.LPAREN?s.RPAREN:t===s.LBRACE?s.RBRACE:s.RBRACKET}e.Tokenizer=class{constructor(t,e){this.lastCode=s.NULL,this.rescan=!1,this.token=null,this.lastTokenType=null,this.errors=[],this.text=t,this.offset=-1,this.state="SCAN",this.nextTokenOffset=0,this.options=Object.assign({allowInlineCommnets:!0},e||{})}nextToken(){for(;null==this.token;){const t=this.scan();if(this.state=this[this.state](t)||"SCAN",t===s.EOF&&!this.rescan)break}const{token:t}=this;return this.token=null,t}scan(){return this.rescan?(this.rescan=!1,this.lastCode):this.next()}next(){return this.offset<this.text.length&&this.offset++,this.offset>=this.text.length?this.lastCode=s.EOF:this.lastCode=this.text.charCodeAt(this.offset)}back(){this.rescan=!0}reportParseError(t){const e=n.ParseError.fromCode(t,this.offset);this.errors.push(e)}getCode(t=0){return this.text.charCodeAt(this.nextTokenOffset+t)}commitToken(t,e=0){const r=this.nextTokenOffset,n=this.offset+e+1,s=this.text.slice(r,n);this.token={type:t,value:s,source:{start:{index:r},end:{index:n}}},this.nextTokenOffset=n,this.lastTokenType=t}SCAN(t){return s.isWhitespace(t)?"WHITESPACE":t===s.DQUOTE?"DQUOTE":t===s.SQUOTE?"SQUOTE":t===s.SLASH?"SLASH":t===s.MINUS?"MINUS":t===s.PLUS?"PLUS":t===s.STAR?(this.commitToken("operator"),"SCAN"):i(t)?(this.commitToken("punctuator"),"SCAN"):t===s.LBRACKET?"LBRACKET":t===s.LBRACE?"LBRACE":t===s.EOF?"SCAN":"WORD"}WORD(t){for(;!s.isWhitespace(t)&&!i(t)&&t!==s.PLUS&&t!==s.STAR&&t!==s.SLASH&&!a(t)&&t!==s.EOF;){if(t===s.MINUS){const t=this.getCode();if(o(t)||(t===s.MINUS||t===s.PLUS)&&o(this.getCode(1)))return this.commitToken("word",-1),"MINUS"}else t!==s.LBRACE&&t!==s.LBRACKET&&t!==s.LPAREN||this.skipBrakets(this.next(),u(t));t=this.next()}this.commitToken("word",-1),this.back()}LBRACKET(t){return this.skipBrakets(t,s.RBRACKET),"WORD"}LBRACE(t){return this.skipBrakets(t,s.RBRACE),"WORD"}WHITESPACE(t){for(;s.isWhitespace(t);)t=this.next();this.commitToken("whitespace",-1),this.back()}SLASH(t){return t===s.STAR?"COMMENT":t===s.SLASH&&this.options.allowInlineCommnets?"INLINE_COMMENT":(this.commitToken("operator",-1),void this.back())}COMMENT(t){for(;t!==s.EOF;){if(t===s.STAR&&(t=this.next())===s.SLASH)return void this.commitToken("comment");t=this.next()}this.commitToken("comment",-1),this.reportParseError("eof-in-comment")}INLINE_COMMENT(t){for(;t!==s.EOF;){if(t===s.LF||t===s.FF)return void this.commitToken("inline-comment");if(t===s.CR)return(t=this.next())===s.LF?void this.commitToken("inline-comment"):(this.commitToken("inline-comment",-1),this.back());t=this.next()}this.commitToken("inline-comment",-1)}MINUS(t){return"word"===this.lastTokenType||t===s.EOF||t!==s.MINUS&&!o(t)&&!s.isLetter(t)?(this.commitToken("operator",-1),void this.back()):"WORD"}PLUS(t){if("word"!==this.lastTokenType&&o(t))return"WORD";this.commitToken("operator",-1),this.back()}DQUOTE(t){this.skipString(t,s.DQUOTE)}SQUOTE(t){this.skipString(t,s.SQUOTE)}skipBrakets(t,e){const r=[];for(;t!==s.EOF;){if(e===t){const t=r.pop()||null;if(!t)return;e=t}else t!==s.LBRACE&&t!==s.LBRACKET&&t!==s.LPAREN||(e&&r.push(e),e=u(t));t=this.next()}this.reportParseError("eof-in-bracket")}skipString(t,e){for(;t!==s.EOF;){if(t===s.BACKSLASH)t=this.next();else if(t===e)return void this.commitToken("string");t=this.next()}this.commitToken("string",-1),this.reportParseError("eof-in-string")}}},97922:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=/^(-(webkit|mox)-)?calc/iu,n=/^(-(webkit|mox)-)?min/iu,s=/^(-(webkit|mox)-)?max/iu,i=/^(-(webkit|mox)-)?clamp/iu;function o(t){return r.test(t)}function a(t){return n.test(t)}function u(t){return s.test(t)}function p(t){return i.test(t)}e.isCalc=o,e.isMin=a,e.isMax=u,e.isClamp=p,e.isMathFunction=function(t){return o(t)||p(t)||a(t)||u(t)}},87830:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(3109);let s=null;class i{constructor(){this.parent=null}toString(t){return"function"==typeof t?t(this):(t||s||(s=new n.Stringifier)).stringify(this)}walk(t,e){const r=this;let n;const s=[...r.nodes||[],r.left,r.right].filter((t=>Boolean(t))),i="string"==typeof t?e=>e.type===t:e=>t.test(e.type);for(const r of s){if(i(r)&&(n=e(r),!1===n))break;if(r.walk&&(n=r.walk(t,e),!1===n))break}return n}}class o extends i{push(...t){for(const e of t)"Root"===e.type?this.push(...e.nodes):(e.parent=this,this.nodes.push(e));return this}unshift(...t){for(const e of t.reverse())"Root"===e.type?this.unshift(...e.nodes):(e.parent=this,this.nodes.unshift(e));return this}append(...t){return this.push(...t)}prepend(...t){return this.unshift(...t)}insertBefore(t,e){if("Root"===e.type){const{nodes:r}=e;if(1===r.length)return this.insertBefore(t,r[0]);throw new Error("The given Root node is illegal.")}const r=this.nodes.indexOf(t);if(r<0)throw new Error("The given node could not be found.");return e.parent=this,this.nodes.splice(r,0,e),this}insertAfter(t,e){if("Root"===e.type){const{nodes:r}=e;if(1===r.length)return this.insertAfter(t,r[0]);throw new Error("The given Root node is illegal.")}const r=this.nodes.indexOf(t);if(r<0)throw new Error("The given node could not be found.");return e.parent=this,this.nodes.splice(r+1,0,e),this}removeAll(){for(const t of this.nodes)t.parent=null;return this.nodes=[],this}removeChild(t){const e=this.nodes.indexOf(t);return this.nodes[e].parent=null,this.nodes.splice(e,1),this}get first(){return this.nodes[0]||null}get last(){return this.nodes[this.nodes.length-1]||null}}e.NumberValue=class extends i{constructor(t,e,r){super();const n=parseFloat(t);this.type="Number",this.value=n,this.raws={before:e,value:{raw:t,value:n}},this.source=r}};class a extends i{constructor(t,e,r,n,s){super();const i=parseFloat(e);this.type=t,this.value=i,this.unit=r,this.raws={before:n,value:{raw:e,value:i}},this.source=s}}e.LengthValue=class extends a{constructor(t,e,r,n){super("Length",t,e,r,n)}},e.AngleValue=class extends a{constructor(t,e,r,n){super("Angle",t,e,r,n)}},e.TimeValue=class extends a{constructor(t,e,r,n){super("Time",t,e,r,n)}},e.FrequencyValue=class extends a{constructor(t,e,r,n){super("Frequency",t,e,r,n)}},e.ResolutionValue=class extends a{constructor(t,e,r,n){super("Resolution",t,e,r,n)}},e.PercentageValue=class extends a{constructor(t,e,r,n){super("Percentage",t,e,r,n)}},e.FlexValue=class extends a{constructor(t,e,r,n){super("Flex",t,e,r,n)}};class u extends i{constructor(t,e,r,n){super(),this.type=t,this.value=e,this.raws={before:r},this.source=n}}function p(t,e,r){const n=Symbol(`${e}`);Object.defineProperties(t,{[n]:{writable:!0,enumerable:!1},[e]:{get(){return this[n]},set(t){const e=this[n];this[n]=r(t,e)},enumerable:!0}})}e.Word=class extends u{constructor(t,e,r){super("Word",t,e,r)}},e.StringNode=class extends u{constructor(t,e,r){super("String",t,e,r)}},e.MathExpression=class extends i{constructor(t,e,r,n,s){super();const i=e.value,o=e.raws.before;this.type="MathExpression";const a=(t,e)=>{let r;if("Root"===t.type){const{nodes:e}=t;if(1!==e.length)throw new Error("The given Root node is illegal.");r=e[0]}else r=t;return r.parent=this,e&&(e.parent=null),r};p(this,"left",a),this.left=t,this.operator=i,p(this,"right",a),this.right=r,this.raws={before:n,between:o},this.source=s}},e.FunctionNode=class extends o{constructor(t,e,r){super(),this.type="Function",this.name=t,this.nodes=[],this.raws={before:e},this.source=r}},e.Parentheses=class extends o{constructor(t,e){super(),this.type="Parentheses",this.nodes=[],this.raws={before:t},this.source=e}},e.Punctuator=class extends u{constructor(t,e,r){super("Punctuator",t,e,r)}},e.Root=class extends o{constructor(t){super(),this.type="Root",this.nodes=[],this.tokens=[],this.errors=[],this.raws={after:""},this.source=t}},e.Operator=class extends u{constructor(t,e,r){super("Operator",t,e,r)}}},63293:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EOF=-1,e.NULL=0,e.TAB=9,e.CR=13,e.LF=10,e.FF=12,e.SPACE=32,e.DQUOTE=34,e.SQUOTE=39,e.LPAREN=40,e.RPAREN=41,e.STAR=42,e.PLUS=43,e.COMMA=44,e.MINUS=45,e.DOT=46,e.SLASH=47,e.LBRACKET=91,e.BACKSLASH=92,e.RBRACKET=93,e.LBRACE=123,e.RBRACE=125,e.isWhitespace=function(t){return t===e.TAB||t===e.LF||t===e.FF||t===e.CR||t===e.SPACE},e.isDigit=function(t){return t>=48&&t<=57},e.isLetter=function(t){return t>=97&&t<=122||t>=65&&t<=90}},45612:(t,e)=>{"use strict";function r(t){return"Punctuator"===t.type&&","===t.value}Object.defineProperty(e,"__esModule",{value:!0}),e.isComma=r,e.getFunctionArguments=function(t){const{nodes:e}=t,n=e[0];if(!n||r(n))return null;const s=[n],i=e.length;for(let t=1;t<i;t++){if(!r(e[t++]))return null;const n=e[t];if(!n||r(n))return null;s.push(n)}return s}},57784:(t,e,r)=>{"use strict";r(91404);const n=r(7054);n.Parser,n.Tokenizer,n.Stringifier,n.getResolvedType,n.reduceExpression,n.newMathExpression,n.getResolvedType,n.reduceExpression,n.newMathExpression,n.Parser,n.Tokenizer,n.Stringifier},98761:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends SyntaxError{static fromCode(t,e){return new r(n[t],t,e)}constructor(t,e,r){super(t),this.code=e,this.index=r}}e.ParseError=r;const n={"eof-in-string":"Unclosed string","eof-in-comment":"Unclosed comment","eof-in-bracket":"Unclosed bracket","unexpected-parenthesis":"Unexpected token","unexpected-calc-token":"Unexpected token"}},91404:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(98761))},20110:t=>{var e="-".charCodeAt(0),r="+".charCodeAt(0),n=".".charCodeAt(0),s="e".charCodeAt(0),i="E".charCodeAt(0);t.exports=function(t){for(var o,a=0,u=t.length,p=!1,h=-1,c=!1;a<u;){if((o=t.charCodeAt(a))>=48&&o<=57)c=!0;else if(o===s||o===i){if(h>-1)break;h=a}else if(o===n){if(p)break;p=!0}else{if(o!==r&&o!==e)break;if(0!==a)break}a+=1}return h+1===a&&a--,!!c&&{number:t.slice(0,a),unit:t.slice(a)}}},41086:(t,e,r)=>{"use strict";const n=r(55299);function s(t,e,r,n){if(!a(t))return t;let u=n||{};const p=Array.isArray(e);if(!p&&"string"!=typeof e)return t;let h=u.merge;h&&"function"!=typeof h&&(h=Object.assign);const c=(p?e:function(t,e){const r=function(t,e){let r=t;if(void 0===e)return r+"";const n=Object.keys(e);for(let t=0;t<n.length;t++){const s=n[t];r+=";"+s+"="+String(e[s])}return r}(t,e);if(s.memo[r])return s.memo[r];const n=e&&e.separator?e.separator:".";let i=[],o=[];i=e&&"function"==typeof e.split?e.split(t):t.split(n);for(let t=0;t<i.length;t++){let e=i[t];for(;e&&"\\"===e.slice(-1)&&null!=i[t+1];)e=e.slice(0,-1)+n+i[++t];o.push(e)}return s.memo[r]=o,o}(e,u)).filter(o),l=c.length,f=t;if(!n&&1===c.length)return i(t,c[0],r,h),t;for(let e=0;e<l;e++){let n=c[e];if(a(t[n])||(t[n]={}),e===l-1){i(t,n,r,h);break}t=t[n]}return f}function i(t,e,r,s){s&&n(t[e])&&n(r)?t[e]=s({},t[e],r):t[e]=r}function o(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t}function a(t){return null!==t&&("object"==typeof t||"function"==typeof t)}s.memo={},t.exports=s}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}(()=>{"use strict";var t,e,n,s,i,o;r(41086),(o=t||(t={})).OTHER="other",o.COLOR="color",o.BORDER_RADIUS="borderRadius",o.SIZING="sizing",o.SPACING="spacing",o.TEXT="text",o.TYPOGRAPHY="typography",o.OPACITY="opacity",o.BORDER_WIDTH="borderWidth",o.BOX_SHADOW="boxShadow",o.FONT_FAMILIES="fontFamilies",o.FONT_WEIGHTS="fontWeights",o.LINE_HEIGHTS="lineHeights",o.FONT_SIZES="fontSizes",o.LETTER_SPACING="letterSpacing",o.PARAGRAPH_SPACING="paragraphSpacing",o.TEXT_DECORATION="textDecoration",o.TEXT_CASE="textCase",o.COMPOSITION="composition",(i=e||(e={})).sizing="sizing",i.height="height",i.width="width",i.spacing="spacing",i.verticalPadding="verticalPadding",i.horizontalPadding="horizontalPadding",i.paddingTop="paddingTop",i.paddingRight="paddingRight",i.paddingBottom="paddingBottom",i.paddingLeft="paddingLeft",i.itemSpacing="itemSpacing",i.fill="fill",i.border="border",i.borderRadius="borderRadius",i.borderRadiusTopLeft="borderRadiusTopLeft",i.borderRadiusTopRight="borderRadiusTopRight",i.borderRadiusBottomRight="borderRadiusBottomRight",i.borderRadiusBottomLeft="borderRadiusBottomLeft",i.borderWidth="borderWidth",i.boxShadow="boxShadow",i.opacity="opacity",i.fontFamilies="fontFamilies",i.fontWeights="fontWeights",i.fontSizes="fontSizes",i.lineHeights="lineHeights",i.typography="typography",i.composition="composition",i.letterSpacing="letterSpacing",i.paragraphSpacing="paragraphSpacing",i.textCase="textCase",i.textDecoration="textDecoration",i.tokenValue="tokenValue",i.value="value",i.tokenName="tokenName",i.description="description",(s=n||(n={})).LOCAL="local",s.JSONBIN="jsonbin",s.GITHUB="github",s.GITLAB="gitlab",s.ADO="ado",s.URL="url";var a="INUMBER",u="IOP1",p="IOP2",h="IOP3",c="IVAR",l="IVARNAME",f="IFUNCALL",d="IFUNDEF",v="IEXPR",y="IEXPREVAL",g="IMEMBER",x="IENDSTATEMENT",m="IARRAY";function w(t,e){this.type=t,this.value=null!=e?e:0}function E(t){return new w(u,t)}function k(t){return new w(p,t)}function b(t){return new w(h,t)}function A(t,e,r,n,s){for(var i,o,f,d,y=[],x=[],E=0;E<t.length;E++){var k=t[E],b=k.type;if(b===a||b===l)Array.isArray(k.value)?y.push.apply(y,A(k.value.map((function(t){return new w(a,t)})).concat(new w(m,k.value.length)),e,r,n,s)):y.push(k);else if(b===c&&s.hasOwnProperty(k.value))k=new w(a,s[k.value]),y.push(k);else if(b===p&&y.length>1)o=y.pop(),i=y.pop(),d=r[k.value],k=new w(a,d(i.value,o.value)),y.push(k);else if(b===h&&y.length>2)f=y.pop(),o=y.pop(),i=y.pop(),"?"===k.value?y.push(i.value?o.value:f.value):(d=n[k.value],k=new w(a,d(i.value,o.value,f.value)),y.push(k));else if(b===u&&y.length>0)i=y.pop(),d=e[k.value],k=new w(a,d(i.value)),y.push(k);else if(b===v){for(;y.length>0;)x.push(y.shift());x.push(new w(v,A(k.value,e,r,n,s)))}else if(b===g&&y.length>0)i=y.pop(),y.push(new w(a,i.value[k.value]));else{for(;y.length>0;)x.push(y.shift());x.push(k)}}for(;y.length>0;)x.push(y.shift());return x}function T(t,e,r){for(var n=[],s=0;s<t.length;s++){var i=t[s],o=i.type;if(o===c&&i.value===e)for(var a=0;a<r.tokens.length;a++){var l,f=r.tokens[a];l=f.type===u?E(f.value):f.type===p?k(f.value):f.type===h?b(f.value):new w(f.type,f.value),n.push(l)}else o===v?n.push(new w(v,T(i.value,e,r))):n.push(i)}return n}function O(t,e,r){var n,s,i,o,w,E,k=[];if(S(t))return C(t,r);for(var b=t.length,A=0;A<b;A++){var T=t[A],R=T.type;if(R===a||R===l)k.push(T.value);else if(R===p)s=k.pop(),n=k.pop(),"and"===T.value?k.push(!!n&&!!O(s,e,r)):"or"===T.value?k.push(!!n||!!O(s,e,r)):"="===T.value?(o=e.binaryOps[T.value],k.push(o(n,O(s,e,r),r))):(o=e.binaryOps[T.value],k.push(o(C(n,r),C(s,r))));else if(R===h)i=k.pop(),s=k.pop(),n=k.pop(),"?"===T.value?k.push(O(n?s:i,e,r)):(o=e.ternaryOps[T.value],k.push(o(C(n,r),C(s,r),C(i,r))));else if(R===c)if(T.value in e.functions)k.push(e.functions[T.value]);else if(T.value in e.unaryOps&&e.parser.isOperatorEnabled(T.value))k.push(e.unaryOps[T.value]);else{var P=r[T.value];if(void 0===P)throw new Error("undefined variable: "+T.value);k.push(P)}else if(R===u)n=k.pop(),o=e.unaryOps[T.value],k.push(o(C(n,r)));else if(R===f){for(E=T.value,w=[];E-- >0;)w.unshift(C(k.pop(),r));if(!(o=k.pop()).apply||!o.call)throw new Error(o+" is not a function");k.push(o.apply(void 0,w))}else if(R===d)k.push(function(){for(var t=k.pop(),n=[],s=T.value;s-- >0;)n.unshift(k.pop());var i=k.pop(),o=function(){for(var s=Object.assign({},r),i=0,o=n.length;i<o;i++)s[n[i]]=arguments[i];return O(t,e,s)};return Object.defineProperty(o,"name",{value:i,writable:!1}),r[i]=o,o}());else if(R===v)k.push(M(T,e));else if(R===y)k.push(T);else if(R===g)n=k.pop(),k.push(n[T.value]);else if(R===x)k.pop();else{if(R!==m)throw new Error("invalid Expression");for(E=T.value,w=[];E-- >0;)w.unshift(k.pop());k.push(w)}}if(k.length>1)throw new Error("invalid Expression (parity)");return 0===k[0]?0:C(k[0],r)}function M(t,e,r){return S(t)?t:{type:y,value:function(r){return O(t.value,e,r)}}}function S(t){return t&&t.type===y}function C(t,e){return S(t)?t.value(e):t}function R(t,e){for(var r,n,s,i,o,y,w=[],E=0;E<t.length;E++){var k=t[E],b=k.type;if(b===a)"number"==typeof k.value&&k.value<0?w.push("("+k.value+")"):Array.isArray(k.value)?w.push("["+k.value.map(P).join(", ")+"]"):w.push(P(k.value));else if(b===p)n=w.pop(),r=w.pop(),i=k.value,e?"^"===i?w.push("Math.pow("+r+", "+n+")"):"and"===i?w.push("(!!"+r+" && !!"+n+")"):"or"===i?w.push("(!!"+r+" || !!"+n+")"):"||"===i?w.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+r+"),("+n+")))"):"=="===i?w.push("("+r+" === "+n+")"):"!="===i?w.push("("+r+" !== "+n+")"):"["===i?w.push(r+"[("+n+") | 0]"):w.push("("+r+" "+i+" "+n+")"):"["===i?w.push(r+"["+n+"]"):w.push("("+r+" "+i+" "+n+")");else if(b===h){if(s=w.pop(),n=w.pop(),r=w.pop(),"?"!==(i=k.value))throw new Error("invalid Expression");w.push("("+r+" ? "+n+" : "+s+")")}else if(b===c||b===l)w.push(k.value);else if(b===u)r=w.pop(),"-"===(i=k.value)||"+"===i?w.push("("+i+r+")"):e?"not"===i?w.push("(!"+r+")"):"!"===i?w.push("fac("+r+")"):w.push(i+"("+r+")"):"!"===i?w.push("("+r+"!)"):w.push("("+i+" "+r+")");else if(b===f){for(y=k.value,o=[];y-- >0;)o.unshift(w.pop());i=w.pop(),w.push(i+"("+o.join(", ")+")")}else if(b===d){for(n=w.pop(),y=k.value,o=[];y-- >0;)o.unshift(w.pop());r=w.pop(),e?w.push("("+r+" = function("+o.join(", ")+") { return "+n+" })"):w.push("("+r+"("+o.join(", ")+") = "+n+")")}else if(b===g)r=w.pop(),w.push(r+"."+k.value);else if(b===m){for(y=k.value,o=[];y-- >0;)o.unshift(w.pop());w.push("["+o.join(", ")+"]")}else if(b===v)w.push("("+R(k.value,e)+")");else if(b!==x)throw new Error("invalid Expression")}return w.length>1&&(w=e?[w.join(",")]:[w.join(";")]),String(w[0])}function P(t){return"string"==typeof t?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function N(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}function L(t,e,r){for(var n=!!(r=r||{}).withMembers,s=null,i=0;i<t.length;i++){var o=t[i];o.type===c||o.type===l?n||N(e,o.value)?null!==s?(N(e,s)||e.push(s),s=o.value):s=o.value:e.push(o.value):o.type===g&&n&&null!==s?s+="."+o.value:o.type===v?L(o.value,e,r):null!==s&&(N(e,s)||e.push(s),s=null)}null===s||N(e,s)||e.push(s)}function F(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}w.prototype.toString=function(){switch(this.type){case a:case u:case p:case h:case c:case l:case x:return this.value;case f:return"CALL "+this.value;case d:return"DEF "+this.value;case m:return"ARRAY "+this.value;case g:return"."+this.value;default:return"Invalid Instruction"}},F.prototype.simplify=function(t){return t=t||{},new F(A(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)},F.prototype.substitute=function(t,e){return e instanceof F||(e=this.parser.parse(String(e))),new F(T(this.tokens,t,e),this.parser)},F.prototype.evaluate=function(t){return t=t||{},O(this.tokens,this,t)},F.prototype.toString=function(){return R(this.tokens,!1)},F.prototype.symbols=function(t){t=t||{};var e=[];return L(this.tokens,e,t),e},F.prototype.variables=function(t){t=t||{};var e=[];L(this.tokens,e,t);var r=this.functions;return e.filter((function(t){return!(t in r)}))},F.prototype.toJSFunction=function(t,e){var r=this,n=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+R(this.simplify(e).tokens,!0)+"; }");return function(){return n.apply(r,arguments)}};var I="TEOF",U="TOP",B="TNUMBER",_="TSTRING",j="TPAREN",D="TBRACKET",W="TCOMMA",H="TNAME",V="TSEMICOLON";function $(t,e,r){this.type=t,this.value=e,this.index=r}function z(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}$.prototype.toString=function(){return this.type+": "+this.value},z.prototype.newToken=function(t,e,r){return new $(t,e,null!=r?r:this.pos)},z.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},z.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},z.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(I,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},z.prototype.isString=function(){var t=!1,e=this.pos,r=this.expression.charAt(e);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,e+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var s=this.expression.substring(e+1,n);this.current=this.newToken(_,this.unescape(s),e),t=!0;break}n=this.expression.indexOf(r,n+1)}return t},z.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(j,t),this.pos++,!0)},z.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken(D,t),this.pos++,0))},z.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(W,","),this.pos++,!0)},z.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(V,";"),this.pos++,!0)},z.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(n in this.consts)return this.current=this.newToken(B,this.consts[n]),this.pos+=n.length,!0}return!1},z.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()&&(e===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(e>t){var n=this.expression.substring(t,e);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(U,n),this.pos+=n.length,!0}return!1},z.prototype.isName=function(){for(var t=this.pos,e=t,r=!1;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()){if(e===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(e===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var s=this.expression.substring(t,e);return this.current=this.newToken(H,s),this.pos+=s.length,!0}return!1},z.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var q=/^[0-9a-f]{4}$/i;function Q(t,e,r){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess}z.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var r=t.substring(0,e);e>=0;){var n=t.charAt(++e);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var s=t.substring(e+1,e+5);q.test(s)||this.parseError("Illegal escape sequence: \\u"+s),r+=String.fromCharCode(parseInt(s,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++e;var i=t.indexOf("\\",e);r+=t.substring(e,i<0?t.length:i),e=i}return r},z.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},z.prototype.isRadixInteger=function(){var t,e,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))t=16,e=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;t=2,e=/^[01]$/i,++r}for(var n=!1,s=r;r<this.expression.length;){var i=this.expression.charAt(r);if(!e.test(i))break;r++,n=!0}return n&&(this.current=this.newToken(B,parseInt(this.expression.substring(s,r),t)),this.pos=r),n},z.prototype.isNumber=function(){for(var t,e=!1,r=this.pos,n=r,s=r,i=!1,o=!1;r<this.expression.length&&((t=this.expression.charAt(r))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:o=!0,r++,e=o;if(e&&(s=r),"e"===t||"E"===t){r++;for(var a=!0,u=!1;r<this.expression.length;){if(t=this.expression.charAt(r),!a||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;u=!0,a=!1}else a=!1;r++}u||(r=s)}return e?(this.current=this.newToken(B,parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=s,e},z.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(U,e);else if("∙"===e||"•"===e)this.current=this.newToken(U,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(U,">="),this.pos++):this.current=this.newToken(U,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(U,"<="),this.pos++):this.current=this.newToken(U,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(U,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(U,"=="),this.pos++):this.current=this.newToken(U,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(U,"!="),this.pos++):this.current=this.newToken(U,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},z.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},z.prototype.getCoordinates=function(){var t,e=0,r=-1;do{e++,t=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:e,column:t}},z.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},Q.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},Q.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?N(e,t.value):"function"==typeof e?e(t):t.value===e)},Q.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},Q.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},Q.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},Q.prototype.expect=function(t,e){if(!this.accept(t,e)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(e||t))}},Q.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(H)||this.accept(U,(function(t){return t.value in e})))t.push(new w(c,this.current.value));else if(this.accept(B))t.push(new w(a,this.current.value));else if(this.accept(_))t.push(new w(a,this.current.value));else if(this.accept(j,"("))this.parseExpression(t),this.expect(j,")");else{if(!this.accept(D,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(D,"]"))t.push(new w(m,0));else{var r=this.parseArrayList(t);t.push(new w(m,r))}}},Q.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},Q.prototype.pushExpression=function(t,e){for(var r=0,n=e.length;r<n;r++)t.push(e[r])},Q.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(V)&&(!this.nextToken||this.nextToken.type===I||this.nextToken.type===j&&")"===this.nextToken.value||e.push(new w(x)),this.nextToken.type!==I&&this.parseExpression(e),t.push(new w(v,e)),!0)},Q.prototype.parseArrayList=function(t){for(var e=0;!this.accept(D,"]");)for(this.parseExpression(t),++e;this.accept(W);)this.parseExpression(t),++e;return e},Q.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(U,"=");){var e=t.pop(),r=[],n=t.length-1;if(e.type!==f){if(e.type!==c&&e.type!==g)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),t.push(new w(l,e.value)),t.push(new w(v,r)),t.push(k("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var s=0,i=e.value+1;s<i;s++){var o=n-s;t[o].type===c&&(t[o]=new w(l,t[o].value))}this.parseVariableAssignmentExpression(r),t.push(new w(v,r)),t.push(new w(d,e.value))}}},Q.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(U,"?");){var e=[],r=[];this.parseConditionalExpression(e),this.expect(U,":"),this.parseConditionalExpression(r),t.push(new w(v,e)),t.push(new w(v,r)),t.push(b("?"))}},Q.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(U,"or");){var e=[];this.parseAndExpression(e),t.push(new w(v,e)),t.push(k("or"))}},Q.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(U,"and");){var e=[];this.parseComparison(e),t.push(new w(v,e)),t.push(k("and"))}};var G=["==","!=","<","<=",">=",">","in"];Q.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(U,G);){var e=this.current;this.parseAddSub(t),t.push(k(e.value))}};var K=["+","-","||"];Q.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(U,K);){var e=this.current;this.parseTerm(t),t.push(k(e.value))}};var X=["*","/","%"];function Y(t,e){return Number(t)+Number(e)}function J(t,e){return t-e}function Z(t,e){return t*e}function tt(t,e){return t/e}function et(t,e){return t%e}function rt(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function nt(t,e){return t===e}function st(t,e){return t!==e}function it(t,e){return t>e}function ot(t,e){return t<e}function at(t,e){return t>=e}function ut(t,e){return t<=e}function pt(t,e){return Boolean(t&&e)}function ht(t,e){return Boolean(t||e)}function ct(t,e){return N(e,t)}function lt(t){return(Math.exp(t)-Math.exp(-t))/2}function ft(t){return(Math.exp(t)+Math.exp(-t))/2}function dt(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function vt(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function yt(t){return Math.log(t+Math.sqrt(t*t-1))}function gt(t){return Math.log((1+t)/(1-t))/2}function xt(t){return Math.log(t)*Math.LOG10E}function mt(t){return-t}function wt(t){return!t}function Et(t){return t<0?Math.ceil(t):Math.floor(t)}function kt(t){return Math.random()*(t||1)}function bt(t){return Tt(t+1)}Q.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(U,X);){var e=this.current;this.parseFactor(t),t.push(k(e.value))}},Q.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(U,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===j&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===V||this.nextToken.type===W||this.nextToken.type===I||this.nextToken.type===j&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var r=this.current;this.parseFactor(t),t.push(E(r.value))}else this.parseExponential(t)},Q.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(U,"^");)this.parseFactor(t),t.push(k("^"))},Q.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(U,"!");)t.push(E("!"))},Q.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(U,(function(t){return t.value in e}))){var r=this.current;this.parseAtom(t),t.push(E(r.value))}else for(this.parseMemberExpression(t);this.accept(j,"(");)if(this.accept(j,")"))t.push(new w(f,0));else{var n=this.parseArgumentList(t);t.push(new w(f,n))}},Q.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(j,")");)for(this.parseExpression(t),++e;this.accept(W);)this.parseExpression(t),++e;return e},Q.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(U,".")||this.accept(D,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(H),t.push(new w(g,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(D,"]"),t.push(k("["))}}};var At=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Tt(t){var e,r;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var n=t-2,s=t-1;n>1;)s*=n,n--;return 0===s&&(s=1),s}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Tt(1-t));if(t>=171.35)return 1/0;if(t>85){var i=t*t,o=i*t,a=o*t,u=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*o)-571/(2488320*a)+163879/(209018880*u)+5246819/(75246796800*u*t))}--t,r=At[0];for(var p=1;p<At.length;++p)r+=At[p]/(t+p);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r}function Ot(t){return Array.isArray(t)?t.length:String(t).length}function Mt(){for(var t=0,e=0,r=0;r<arguments.length;r++){var n,s=Math.abs(arguments[r]);e<s?(t=t*(n=e/s)*n+1,e=s):t+=s>0?(n=s/e)*n:s}return e===1/0?1/0:e*Math.sqrt(t)}function St(t,e,r){return t?e:r}function Ct(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function Rt(t,e,r){return r&&(r[t]=e),e}function Pt(t,e){return t[0|e]}function Nt(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function Lt(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function Ft(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,r){return t(e,r)}))}function It(t,e,r){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(e,r,n){return t(e,r,n)}),e)}function Ut(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,r){return t(e,r)}))}function Bt(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function _t(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function jt(t){return(t>0)-(t<0)||+t}var Dt=1/3;function Wt(t){return t<0?-Math.pow(-t,Dt):Math.pow(t,Dt)}function Ht(t){return Math.exp(t)-1}function Vt(t){return Math.log(1+t)}function $t(t){return Math.log(t)/Math.LN2}function zt(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||lt,cosh:Math.cosh||ft,tanh:Math.tanh||dt,asinh:Math.asinh||vt,acosh:Math.acosh||yt,atanh:Math.atanh||gt,sqrt:Math.sqrt,cbrt:Math.cbrt||Wt,log:Math.log,log2:Math.log2||$t,ln:Math.log,lg:Math.log10||xt,log10:Math.log10||xt,expm1:Math.expm1||Ht,log1p:Math.log1p||Vt,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||Et,"-":mt,"+":Number,exp:Math.exp,not:wt,length:Ot,"!":bt,sign:Math.sign||jt},this.binaryOps={"+":Y,"-":J,"*":Z,"/":tt,"%":et,"^":Math.pow,"||":rt,"==":nt,"!=":st,">":it,"<":ot,">=":at,"<=":ut,and:pt,or:ht,in:ct,"=":Rt,"[":Pt},this.ternaryOps={"?":St},this.functions={random:kt,fac:bt,min:Lt,max:Nt,hypot:Math.hypot||Mt,pyt:Math.hypot||Mt,pow:Math.pow,atan2:Math.atan2,if:St,gamma:Tt,roundTo:Ct,map:Ft,fold:It,filter:Ut,indexOf:Bt,join:_t},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}zt.prototype.parse=function(t){var e=[],r=new Q(this,new z(this,t),{allowMemberAccess:this.options.allowMemberAccess});return r.parseExpression(e),r.expect(I,"EOF"),new F(e,this)},zt.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var qt=new zt;zt.parse=function(t){return qt.parse(t)},zt.evaluate=function(t,e){return qt.parse(t).evaluate(e)};var Qt,Gt,Kt={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};zt.prototype.isOperatorEnabled=function(t){var e=function(t){return Kt.hasOwnProperty(t)?Kt[t]:t}(t),r=this.options.operators||{};return!(e in r)||!!r[e]},r(57784),new zt,(Gt=Qt||(Qt={})).DISABLED="disabled",Gt.SOURCE="source",Gt.ENABLED="enabled"})()})();